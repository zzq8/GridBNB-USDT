# === 多交易所配置示例 ===
# 复制此文件为 .env 并填入您的实际API密钥

# ============================================================================
# 交易所选择
# ============================================================================
# 当前使用的交易所（支持: binance, okx）
EXCHANGE=binance

# ============================================================================
# 测试网/模拟盘配置
# ============================================================================
# 是否使用测试网（true=模拟盘测试, false=实盘交易）
# 测试网使用测试币，不会影响真实资金，适合调试和学习
TESTNET_MODE=false

# ============================================================================
# Binance 配置（实盘）
# ============================================================================
BINANCE_API_KEY=your_binance_api_key_here
BINANCE_API_SECRET=your_binance_api_secret_here

# ============================================================================
# Binance 测试网配置（可选，仅在 TESTNET_MODE=true 时使用）
# ============================================================================
# 测试网申请地址: https://testnet.binance.vision/
# 测试网端点: https://testnet.binance.vision
# 注意：测试网API密钥与实盘不同，需要单独申请
# BINANCE_TESTNET_API_KEY=your_testnet_api_key_here
# BINANCE_TESTNET_API_SECRET=your_testnet_api_secret_here

# ============================================================================
# OKX 配置（实盘）
# ============================================================================
# 注意：OKX需要额外的passphrase
OKX_API_KEY=your_okx_api_key_here
OKX_API_SECRET=your_okx_api_secret_here
OKX_PASSPHRASE=your_okx_passphrase_here

# ============================================================================
# OKX 测试网配置（可选，仅在 TESTNET_MODE=true 时使用）
# ============================================================================
# OKX Demo环境需要单独申请API密钥
# 申请地址: https://www.okx.com/account/my-api
# 注意：选择"Demo Trading"模式创建API密钥
# OKX_TESTNET_API_KEY=your_okx_demo_api_key_here
# OKX_TESTNET_API_SECRET=your_okx_demo_api_secret_here
# OKX_TESTNET_PASSPHRASE=your_okx_demo_passphrase_here

# ============================================================================
# 功能开关
# ============================================================================
# 是否启用理财功能（Binance Simple Earn / OKX Earn）
ENABLE_SAVINGS_FUNCTION=true

# ============================================================================
# 网络配置
# ============================================================================
# HTTP代理（可选，格式: http://host:port 或 socks5://host:port）
HTTP_PROXY=

# API超时时间（毫秒）
API_TIMEOUT=60000

# ============================================================================
# 交易策略配置
# ============================================================================
# 交易对（逗号分隔，例如: BNB/USDT,ETH/USDT）
SYMBOLS=BNB/USDT

# 初始网格大小（百分比）
INITIAL_GRID=2.0

# 最小交易金额（USDT）
MIN_TRADE_AMOUNT=20.0

# 按交易对设置的初始参数（JSON格式）
INITIAL_PARAMS_JSON={"BNB/USDT": {"initial_base_price": 600.0, "initial_grid": 2.0}}

# ============================================================================
# 风控配置
# ============================================================================
# 最大仓位比例
MAX_POSITION_RATIO=0.9

# 最小仓位比例（底仓保护）
MIN_POSITION_RATIO=0.1

# ============================================================================
# 通知配置
# ============================================================================
# PushPlus通知Token（可选）
PUSHPLUS_TOKEN=your_pushplus_token

# Telegram通知（可选）
TELEGRAM_BOT_TOKEN=
TELEGRAM_CHAT_ID=

# Webhook通知（可选）
WEBHOOK_URL=

# ============================================================================
# AI策略配置（可选）
# ============================================================================
# 是否启用AI辅助交易
AI_ENABLED=false

# AI提供商（openai / anthropic）
AI_PROVIDER=openai

# AI模型
AI_MODEL=gpt-4-turbo

# AI API密钥
AI_API_KEY=your_openai_api_key

# OpenAI自定义Base URL（可选，用于第三方API）
AI_OPENAI_BASE_URL=

# AI置信度阈值（0-100）
AI_CONFIDENCE_THRESHOLD=70

# AI触发间隔（秒）
AI_TRIGGER_INTERVAL=900

# 每日最大AI调用次数
AI_MAX_CALLS_PER_DAY=100

# AI失败时是否回退到网格策略
AI_FALLBACK_TO_GRID=true

# ============================================================================
# 调试配置
# ============================================================================
# 调试模式（会输出详细日志）
DEBUG_MODE=false

# 日志级别（可选值: DEBUG, INFO, WARNING, ERROR, CRITICAL）
# 支持字符串或对应的整数值（10=DEBUG, 20=INFO, 30=WARNING, 40=ERROR, 50=CRITICAL）
# 建议生产环境使用 INFO，调试时使用 DEBUG
LOG_LEVEL=INFO

# ============================================================================
# Web监控配置
# ============================================================================
# Web界面用户名和密码（可选）
WEB_USER=admin
WEB_PASSWORD=your_secure_password_here

# ============================================================================
# 理财精度配置（JSON格式）
# ============================================================================
# 不同资产的理财操作精度
SAVINGS_PRECISIONS={"USDT": 2, "BNB": 6, "DEFAULT": 8}

# ============================================================================
# 高级策略参数（JSON格式）
# ============================================================================

# 网格参数（JSON格式）
# initial: 初始网格大小, min: 最小网格大小, max: 最大网格大小
GRID_PARAMS_JSON={"initial": 2.0, "min": 1.0, "max": 4.0}

# 连续网格调整参数（JSON格式）
# base_grid: 基础网格大小, center_volatility: 中心波动率, sensitivity_k: 敏感度系数
GRID_CONTINUOUS_PARAMS_JSON={"base_grid": 2.5, "center_volatility": 0.25, "sensitivity_k": 10.0}

# 动态时间间隔参数（JSON格式，根据市场波动率自动调整交易间隔）
# default_interval_hours: 默认交易间隔（小时）
# volatility_to_interval_hours: 波动率区间映射，波动率越高交易频率越高
# 示例: 波动率0-10%时每1小时交易一次，10-20%时每0.5小时，20-30%时每0.25小时，>30%时每0.125小时
DYNAMIC_INTERVAL_PARAMS_JSON={"default_interval_hours":1.0,"volatility_to_interval_hours":[{"range":[0,0.10],"interval_hours":1.0},{"range":[0.10,0.20],"interval_hours":0.5},{"range":[0.20,0.30],"interval_hours":0.25},{"range":[0.30,999],"interval_hours":0.125}]}

# 是否启用成交量加权（根据成交量调整交易决策权重）
ENABLE_VOLUME_WEIGHTING=true

# 初始本金（用于计算仓位比例和风险管理，单位: USDT）
# 设置为0或不设置时，系统会在启动时自动检测账户总资产
# 建议：首次运行设置为0自动检测，之后可固定为启动时的总资产以便准确计算盈亏
INITIAL_PRINCIPAL=0
