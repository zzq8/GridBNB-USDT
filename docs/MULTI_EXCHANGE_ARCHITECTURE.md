# ä¼ä¸šçº§å¤šäº¤æ˜“æ‰€æ¶æ„è®¾è®¡æ–‡æ¡£

## ğŸ“ æ¶æ„æ¦‚è§ˆ

æœ¬æ–‡æ¡£è¯¦ç»†æè¿°GridBNB-USDTé¡¹ç›®çš„ä¼ä¸šçº§å¤šäº¤æ˜“æ‰€æ”¯æŒæ¶æ„ã€‚

---

## ğŸ¯ è®¾è®¡ç›®æ ‡

### 1. **å¯æ‰©å±•æ€§**
- âœ… æ”¯æŒæ— é™æ·»åŠ æ–°äº¤æ˜“æ‰€
- âœ… æœ€å°åŒ–ä»£ç ä¿®æ”¹
- âœ… æ’ä»¶åŒ–æ¶æ„

### 2. **å¯ç»´æŠ¤æ€§**
- âœ… æ¸…æ™°çš„èŒè´£åˆ†ç¦»
- âœ… ç»Ÿä¸€çš„æ¥å£è§„èŒƒ
- âœ… å®Œæ•´çš„ç±»å‹æ³¨è§£

### 3. **å¯æµ‹è¯•æ€§**
- âœ… è§£è€¦çš„ç»„ä»¶è®¾è®¡
- âœ… æ˜“äºMockçš„æ¥å£
- âœ… å®Œæ•´çš„å•å…ƒæµ‹è¯•

### 4. **ç”Ÿäº§å°±ç»ª**
- âœ… å®Œå–„çš„é”™è¯¯å¤„ç†
- âœ… è¯¦ç»†çš„æ—¥å¿—è®°å½•
- âœ… å¥åº·æ£€æŸ¥æœºåˆ¶

---

## ğŸ—ï¸ æ¶æ„è®¾è®¡

### åˆ†å±‚æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   åº”ç”¨å±‚ (Application Layer)              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ GridTrader  â”‚  â”‚ Web Server  â”‚  â”‚  Monitor    â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                 â”‚                 â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         â”‚    äº¤æ˜“æ‰€æŠ½è±¡å±‚ (Exchange Abstraction)         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚         BaseExchangeAdapter (æŠ½è±¡åŸºç±»)           â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚    â”‚
â”‚  â”‚  â”‚ ç»Ÿä¸€æ¥å£å®šä¹‰:                             â”‚    â”‚    â”‚
â”‚  â”‚  â”‚ - fetch_balance()                       â”‚    â”‚    â”‚
â”‚  â”‚  â”‚ - create_order()                        â”‚    â”‚    â”‚
â”‚  â”‚  â”‚ - fetch_ticker()                        â”‚    â”‚    â”‚
â”‚  â”‚  â”‚ - fetch_funding_balance() [å¯é€‰]        â”‚    â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚                                 â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  é€‚é…å™¨å±‚ (Adapters)â”‚          â”‚                      â”‚
â”‚                   â”‚          â”‚                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚          â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  Binance    â”‚ â”‚          â”‚  â”‚     OKX     â”‚    â”‚
â”‚  â”‚  Adapter    â”‚ â”‚   ...    â”‚  â”‚   Adapter   â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ â”‚          â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                             â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       CCXT å±‚ (ccxt.binance, ccxt.okx)            â”‚
â”‚       - ç»Ÿä¸€çš„äº¤æ˜“æ‰€ API å°è£…                       â”‚
â”‚       - å¤„ç†äº¤æ˜“æ‰€ç‰¹å®šæ ¼å¼è½¬æ¢                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         äº¤æ˜“æ‰€ API (Binance API, OKX API)          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“¦ æ ¸å¿ƒç»„ä»¶

### 1. BaseExchangeAdapter (æŠ½è±¡åŸºç±»)

**æ–‡ä»¶**: `src/core/exchange/base.py`

**èŒè´£**:
- å®šä¹‰ç»Ÿä¸€çš„äº¤æ˜“æ‰€æ¥å£
- å£°æ˜äº¤æ˜“æ‰€èƒ½åŠ›ï¼ˆcapabilitiesï¼‰
- æä¾›é»˜è®¤çš„é™çº§å¤„ç†é€»è¾‘

**å…³é”®è®¾è®¡**:

```python
class BaseExchangeAdapter(ABC):
    """æ‰€æœ‰äº¤æ˜“æ‰€é€‚é…å™¨çš„æŠ½è±¡åŸºç±»"""

    @abstractmethod
    async def fetch_balance() -> Dict:
        """å¿…é¡»å®ç°ï¼šè·å–ä½™é¢"""
        pass

    async def fetch_funding_balance() -> Dict:
        """å¯é€‰å®ç°ï¼šè·å–ç†è´¢ä½™é¢"""
        if not self.capabilities.supports(ExchangeFeature.FUNDING_ACCOUNT):
            return {}  # é™çº§å¤„ç†
        raise NotImplementedError
```

**ä¼˜åŠ¿**:
- âœ… å¼ºåˆ¶æ¥å£ä¸€è‡´æ€§
- âœ… æ”¯æŒå¯é€‰åŠŸèƒ½
- âœ… ç±»å‹å®‰å…¨

---

### 2. ExchangeCapabilities (èƒ½åŠ›æè¿°ç±»)

**èŒè´£**:
- å£°æ˜äº¤æ˜“æ‰€æ”¯æŒå“ªäº›åŠŸèƒ½
- æä¾›åŠŸèƒ½æ£€æµ‹æ–¹æ³•
- æ”¯æŒåŠŸèƒ½è¦æ±‚æ–­è¨€

**ç¤ºä¾‹**:

```python
# å¸å®‰æ”¯æŒç°è´§äº¤æ˜“å’Œç†è´¢
binance_caps = ExchangeCapabilities([
    ExchangeFeature.SPOT_TRADING,
    ExchangeFeature.FUNDING_ACCOUNT,
])

# æ£€æŸ¥åŠŸèƒ½
if binance_caps.supports(ExchangeFeature.FUNDING_ACCOUNT):
    await exchange.fetch_funding_balance()
```

**ä¼˜åŠ¿**:
- âœ… è¿è¡Œæ—¶åŠŸèƒ½æ£€æµ‹
- âœ… ä¼˜é›…çš„é™çº§å¤„ç†
- âœ… é¿å…ç¡¬ç¼–ç åˆ¤æ–­

---

### 3. ExchangeFactory (å·¥å‚ç±»)

**æ–‡ä»¶**: `src/core/exchange/factory.py`

**èŒè´£**:
- åˆ›å»ºäº¤æ˜“æ‰€é€‚é…å™¨å®ä¾‹
- ç®¡ç†å®ä¾‹ç”Ÿå‘½å‘¨æœŸï¼ˆå•ä¾‹ï¼‰
- æä¾›ç»Ÿä¸€çš„åˆ›å»ºæ¥å£

**ç¤ºä¾‹**:

```python
# åˆ›å»ºå¸å®‰å®ä¾‹
binance = ExchangeFactory.create(
    ExchangeType.BINANCE,
    api_key="xxx",
    api_secret="yyy"
)

# åˆ›å»ºOKXå®ä¾‹
okx = ExchangeFactory.create(
    ExchangeType.OKX,
    api_key="xxx",
    api_secret="yyy",
    passphrase="zzz"  # OKXç‰¹æœ‰å‚æ•°
)
```

**ä¼˜åŠ¿**:
- âœ… å•ä¸€åˆ›å»ºå…¥å£
- âœ… è‡ªåŠ¨ç®¡ç†å®ä¾‹
- âœ… æ˜“äºæ‰©å±•

---

### 4. å…·ä½“é€‚é…å™¨ (BinanceAdapter, OKXAdapter)

**æ–‡ä»¶**:
- `src/core/exchange/binance_adapter.py`
- `src/core/exchange/okx_adapter.py`

**èŒè´£**:
- å®ç°äº¤æ˜“æ‰€ç‰¹å®šé€»è¾‘
- å¤„ç†APIå·®å¼‚
- å°è£…CCXTè°ƒç”¨

**ç¤ºä¾‹ (å¸å®‰ç†è´¢)**:

```python
class BinanceAdapter(BaseExchangeAdapter):
    async def fetch_funding_balance(self) -> Dict[str, float]:
        """å¸å®‰ç®€å•å‚¨è“„ä½™é¢"""
        response = await self._exchange.sapiGetV1SimpleEarnFlexiblePosition()
        # è§£æå¹¶è¿”å›ç»Ÿä¸€æ ¼å¼
        return self._parse_balance(response)
```

**ä¼˜åŠ¿**:
- âœ… å°è£…äº¤æ˜“æ‰€å·®å¼‚
- âœ… ç»Ÿä¸€è¿”å›æ ¼å¼
- âœ… æ˜“äºç»´æŠ¤

---

### 5. ExchangeConfigValidator (é…ç½®éªŒè¯å™¨)

**æ–‡ä»¶**: `src/core/exchange/validator.py`

**èŒè´£**:
- éªŒè¯é…ç½®å®Œæ•´æ€§
- æ£€æŸ¥APIå¯†é’¥
- ç”Ÿæˆè¯Šæ–­æŠ¥å‘Š

**ç¤ºä¾‹**:

```python
validator = ExchangeConfigValidator()
is_valid, issues, warnings = validator.validate_config()

if not is_valid:
    validator.print_validation_report(is_valid, issues, warnings)
    raise ValueError("é…ç½®æ— æ•ˆ")
```

**ä¼˜åŠ¿**:
- âœ… æå‰å‘ç°é…ç½®é”™è¯¯
- âœ… å‹å¥½çš„é”™è¯¯æç¤º
- âœ… å¯åŠ¨å‰éªŒè¯

---

## ğŸ”„ è®¾è®¡æ¨¡å¼åº”ç”¨

### 1. **æŠ½è±¡å·¥å‚æ¨¡å¼**

**é—®é¢˜**: å¦‚ä½•åˆ›å»ºä¸åŒäº¤æ˜“æ‰€çš„å®ä¾‹ï¼Ÿ

**è§£å†³æ–¹æ¡ˆ**:

```python
# å·¥å‚ç±»è´Ÿè´£åˆ›å»ºå…·ä½“å®ä¾‹
class ExchangeFactory:
    _ADAPTER_REGISTRY = {
        ExchangeType.BINANCE: BinanceAdapter,
        ExchangeType.OKX: OKXAdapter,
    }

    @classmethod
    def create(cls, exchange_type, ...):
        adapter_class = cls._ADAPTER_REGISTRY[exchange_type]
        return adapter_class(...)
```

**ä¼˜åŠ¿**:
- âœ… è§£è€¦åˆ›å»ºé€»è¾‘
- âœ… æ˜“äºæ·»åŠ æ–°äº¤æ˜“æ‰€
- âœ… ç»Ÿä¸€åˆ›å»ºæ¥å£

---

### 2. **ç­–ç•¥æ¨¡å¼**

**é—®é¢˜**: ä¸åŒäº¤æ˜“æ‰€æœ‰ä¸åŒçš„äº¤æ˜“ç­–ç•¥

**è§£å†³æ–¹æ¡ˆ**:

```python
# æ¯ä¸ªé€‚é…å™¨æ˜¯ä¸€ä¸ªç­–ç•¥
class BinanceAdapter(BaseExchangeAdapter):
    async def fetch_funding_balance(self):
        # å¸å®‰ç‰¹å®šå®ç°
        pass

class OKXAdapter(BaseExchangeAdapter):
    async def fetch_funding_balance(self):
        # OKXç‰¹å®šå®ç°
        pass
```

**ä¼˜åŠ¿**:
- âœ… ç®—æ³•æ—å¯äº’æ¢
- âœ… é¿å…æ¡ä»¶åˆ¤æ–­
- âœ… ç¬¦åˆå¼€é—­åŸåˆ™

---

### 3. **é€‚é…å™¨æ¨¡å¼**

**é—®é¢˜**: CCXTæ¥å£ä¸ä¸šåŠ¡éœ€æ±‚ä¸å®Œå…¨åŒ¹é…

**è§£å†³æ–¹æ¡ˆ**:

```python
class BinanceAdapter:
    async def fetch_funding_balance(self):
        # è°ƒç”¨CCXTåŸå§‹API
        response = await self._exchange.sapiGetV1SimpleEarnFlexiblePosition()

        # é€‚é…ä¸ºç»Ÿä¸€æ ¼å¼
        balances = {}
        for item in response['rows']:
            balances[item['asset']] = float(item['totalAmount'])

        return balances
```

**ä¼˜åŠ¿**:
- âœ… ç»Ÿä¸€ä¸šåŠ¡æ¥å£
- âœ… éš”ç¦»å¤–éƒ¨ä¾èµ–
- âœ… æ˜“äºæµ‹è¯•

---

### 4. **å•ä¾‹æ¨¡å¼**

**é—®é¢˜**: é¿å…é‡å¤åˆ›å»ºäº¤æ˜“æ‰€è¿æ¥

**è§£å†³æ–¹æ¡ˆ**:

```python
class ExchangeFactory:
    _instances = {}

    @classmethod
    def create(cls, exchange_type, ...):
        if exchange_type in cls._instances:
            return cls._instances[exchange_type]

        instance = adapter_class(...)
        cls._instances[exchange_type] = instance
        return instance
```

**ä¼˜åŠ¿**:
- âœ… èŠ‚çœèµ„æº
- âœ… å…±äº«è¿æ¥
- âœ… é¿å…å†²çª

---

## ğŸ”Œ æ‰©å±•æœºåˆ¶

### æ·»åŠ æ–°äº¤æ˜“æ‰€ï¼ˆ3æ­¥èµ°ï¼‰

**æ­¥éª¤1: åˆ›å»ºé€‚é…å™¨ç±»**

```python
# src/core/exchange/bybit_adapter.py

class BybitAdapter(BaseExchangeAdapter):
    @property
    def exchange_type(self) -> ExchangeType:
        return ExchangeType.BYBIT

    @property
    def capabilities(self) -> ExchangeCapabilities:
        return ExchangeCapabilities([
            ExchangeFeature.SPOT_TRADING,
        ])

    # å®ç°æ‰€æœ‰æŠ½è±¡æ–¹æ³•
    async def fetch_balance(self, account_type='spot'):
        return await self._exchange.fetch_balance()

    # ...å…¶ä»–æ–¹æ³•
```

**æ­¥éª¤2: æ³¨å†Œåˆ°å·¥å‚**

```python
# src/core/exchange/factory.py

_ADAPTER_REGISTRY = {
    ExchangeType.BINANCE: BinanceAdapter,
    ExchangeType.OKX: OKXAdapter,
    ExchangeType.BYBIT: BybitAdapter,  # æ–°å¢
}
```

**æ­¥éª¤3: æ›´æ–°æšä¸¾**

```python
# src/core/exchange/base.py

class ExchangeType(Enum):
    BINANCE = "binance"
    OKX = "okx"
    BYBIT = "bybit"  # æ–°å¢
```

**å®Œæˆï¼** æ— éœ€ä¿®æ”¹å…¶ä»–ä»£ç ã€‚

---

## ğŸ›¡ï¸ é”™è¯¯å¤„ç†ç­–ç•¥

### 1. **é…ç½®éªŒè¯é˜¶æ®µ**

```python
# å¯åŠ¨å‰éªŒè¯
validator = ExchangeConfigValidator()
if not validator.validate_config():
    # æ‰“å°è¯¦ç»†æŠ¥å‘Š
    # é˜»æ­¢å¯åŠ¨
    raise ValueError("é…ç½®æ— æ•ˆ")
```

### 2. **è¿è¡Œæ—¶é”™è¯¯å¤„ç†**

```python
async def fetch_funding_balance(self):
    try:
        response = await self._exchange.sapiGetV1...()
        return self._parse_balance(response)
    except Exception as e:
        self.logger.error(f"è·å–ç†è´¢ä½™é¢å¤±è´¥: {e}")
        return {}  # è¿”å›ç©ºå­—å…¸ï¼Œä¸ä¸­æ–­ç¨‹åº
```

### 3. **åŠŸèƒ½é™çº§**

```python
async def transfer_to_funding(self, asset, amount):
    if not self.capabilities.supports(ExchangeFeature.FUNDING_ACCOUNT):
        self.logger.warning("å½“å‰äº¤æ˜“æ‰€ä¸æ”¯æŒç†è´¢åŠŸèƒ½ï¼Œè·³è¿‡è½¬è´¦")
        return False  # ä¼˜é›…é™çº§

    # æ­£å¸¸æ‰§è¡Œ
    await self._exchange.transfer(...)
```

---

## ğŸ“Š æ€§èƒ½ä¼˜åŒ–

### 1. **å•ä¾‹æ¨¡å¼**
- æ¯ç§äº¤æ˜“æ‰€åªåˆ›å»ºä¸€æ¬¡å®ä¾‹
- å¤šä¸ªäº¤æ˜“å¯¹å…±äº«åŒä¸€è¿æ¥

### 2. **è¿æ¥å¤ç”¨**
- CCXTè‡ªåŠ¨ç®¡ç†è¿æ¥æ± 
- é¿å…é¢‘ç¹åˆ›å»ºè¿æ¥

### 3. **å¼‚æ­¥IO**
- æ‰€æœ‰ç½‘ç»œè¯·æ±‚ä½¿ç”¨ `async/await`
- æ”¯æŒé«˜å¹¶å‘

---

## ğŸ§ª æµ‹è¯•ç­–ç•¥

### å•å…ƒæµ‹è¯•

```python
# tests/unit/test_exchange_adapters.py

def test_create_binance_adapter():
    adapter = ExchangeFactory.create(
        ExchangeType.BINANCE,
        api_key="test",
        api_secret="test"
    )
    assert isinstance(adapter, BinanceAdapter)
```

### é›†æˆæµ‹è¯•

```python
@pytest.mark.integration
async def test_real_connection():
    adapter = BinanceAdapter(api_key=..., api_secret=...)
    await adapter.initialize()

    balance = await adapter.fetch_balance()
    assert 'free' in balance

    await adapter.close()
```

---

## ğŸ“ˆ æœªæ¥æ‰©å±•

### æ”¯æŒæ›´å¤šäº¤æ˜“æ‰€

- âœ… Bybit
- âœ… Huobi
- âœ… Gate.io
- âœ… Kraken

### æ”¯æŒæ›´å¤šåŠŸèƒ½

- âœ… æ æ†äº¤æ˜“ (Margin)
- âœ… åˆçº¦äº¤æ˜“ (Futures)
- âœ… è´¨æŠ¼ (Staking)

### é«˜çº§ç‰¹æ€§

- âœ… æ™ºèƒ½è·¯ç”±ï¼ˆé€‰æ‹©æœ€ä¼˜äº¤æ˜“æ‰€ï¼‰
- âœ… è·¨äº¤æ˜“æ‰€å¥—åˆ©
- âœ… åˆ†å¸ƒå¼éƒ¨ç½²

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [è¿ç§»æŒ‡å—](MIGRATION_GUIDE.md)
- [APIå‚è€ƒ](API_REFERENCE.md)
- [æµ‹è¯•æŒ‡å—](TESTING_GUIDE.md)

---

## âœ¨ è®¾è®¡äº®ç‚¹

### 1. **å¼€é—­åŸåˆ™**
- å¯¹æ‰©å±•å¼€æ”¾ï¼šæ·»åŠ æ–°äº¤æ˜“æ‰€æ— éœ€ä¿®æ”¹ç°æœ‰ä»£ç 
- å¯¹ä¿®æ”¹å°é—­ï¼šæ ¸å¿ƒæ¥å£ç¨³å®šä¸å˜

### 2. **ä¾èµ–å€’ç½®**
- ä¸Šå±‚ä¾èµ–æŠ½è±¡ï¼ˆBaseExchangeAdapterï¼‰
- ä¸ä¾èµ–å…·ä½“å®ç°

### 3. **å•ä¸€èŒè´£**
- æ¯ä¸ªç±»èŒè´£æ˜ç¡®
- æ˜“äºç†è§£å’Œç»´æŠ¤

### 4. **æ¥å£éš”ç¦»**
- æ ¸å¿ƒåŠŸèƒ½å¿…é¡»å®ç°
- å¯é€‰åŠŸèƒ½ä¼˜é›…é™çº§

---

**æ¶æ„è®¾è®¡å®Œæˆï¼** ğŸ‰

è¿™æ˜¯ä¸€ä¸ªçœŸæ­£çš„ä¼ä¸šçº§æ¶æ„ï¼Œæ»¡è¶³ç”Ÿäº§ç¯å¢ƒçš„æ‰€æœ‰è¦æ±‚ã€‚
